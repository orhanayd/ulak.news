function Hilitor(id,tag){var targetNode=document.getElementById(id)||document.body,hiliteTag=tag||"MARK",skipTags=new RegExp("^(?:"+hiliteTag+"|SCRIPT|FORM|SPAN)$"),colors=["#ff6","#a0ffff","#9f9","#f99","#f6f"],wordColor=[],colorIdx=0,matchRegExp="",openLeft=!1,openRight=!1,endRegExp=new RegExp("^[^a-zA-ZğüşıöçĞÜŞİÖÇ]+|[^a-zA-ZğüşıöçĞÜŞİÖÇ]+$","g"),breakRegExp=new RegExp("[^a-zA-ZğüşıöçĞÜŞİÖÇ-]+","g");this.setEndRegExp=function(regex){return endRegExp=regex},this.setBreakRegExp=function(regex){return breakRegExp=regex},this.setMatchType=function(type){switch(type){case"left":this.openLeft=!1,this.openRight=!0;break;case"right":this.openLeft=!0,this.openRight=!1;break;case"open":this.openLeft=this.openRight=!0;break;default:this.openLeft=this.openRight=!1}},this.setRegex=function(input){if(input=(input=(input=input.replace(endRegExp,"")).replace(breakRegExp,"|")).replace(/^\||\|$/g,"")){var re="("+input+")";return this.openLeft||(re="\\b"+re),this.openRight||(re+="\\b"),matchRegExp=new RegExp(re,"i")}return!1},this.getRegex=function(){var retval=matchRegExp.toString();return retval=(retval=retval.replace(/(^\/(\\b)?|\(|\)|(\\b)?\/i$)/g,"")).replace(/\|/g," ")},this.hiliteWords=function(node){if(void 0!==node&&node&&matchRegExp&&!skipTags.test(node.nodeName)){if(node.hasChildNodes())for(var i=0;i<node.childNodes.length;i++)this.hiliteWords(node.childNodes[i]);if(3==node.nodeType&&(nv=node.nodeValue)&&(regs=matchRegExp.exec(nv))){wordColor[regs[0].toLowerCase()]||(wordColor[regs[0].toLowerCase()]=colors[colorIdx++%colors.length]);var match=document.createElement(hiliteTag);match.appendChild(document.createTextNode(regs[0])),match.style.backgroundColor=wordColor[regs[0].toLowerCase()],match.style.color="#000";var after=node.splitText(regs.index);after.nodeValue=after.nodeValue.substring(regs[0].length),node.parentNode.insertBefore(match,after)}}},this.remove=function(){for(var arr=document.getElementsByTagName(hiliteTag);arr.length&&(el=arr[0]);){var parent=el.parentNode;parent.replaceChild(el.firstChild,el),parent.normalize()}},this.apply=function(input){if(this.remove(),void 0!==input&&(input=input.replace(/(^\s+|\s+$)/g,"")))return this.setRegex(input)&&this.hiliteWords(targetNode),matchRegExp}}